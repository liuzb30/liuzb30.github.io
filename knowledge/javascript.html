<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 基础 | 刘圳槟的个人博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="刘圳槟的个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.22323a62.css" as="style"><link rel="preload" href="/assets/js/app.9dcc8cee.js" as="script"><link rel="preload" href="/assets/js/2.b5a88b1a.js" as="script"><link rel="preload" href="/assets/js/12.64368439.js" as="script"><link rel="prefetch" href="/assets/js/10.7b0a7f5b.js"><link rel="prefetch" href="/assets/js/11.d018335d.js"><link rel="prefetch" href="/assets/js/3.da5547c3.js"><link rel="prefetch" href="/assets/js/4.d159f790.js"><link rel="prefetch" href="/assets/js/5.fb70b555.js"><link rel="prefetch" href="/assets/js/6.fbbd1b54.js"><link rel="prefetch" href="/assets/js/7.ac97d0a7.js"><link rel="prefetch" href="/assets/js/8.5277a6ce.js"><link rel="prefetch" href="/assets/js/9.ff65d08b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.22323a62.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">刘圳槟的个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/knowledge/css.html" class="nav-link">
  前端知识体系
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/knowledge/css.html" class="nav-link">
  前端知识体系
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端知识体系</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/knowledge/javascript.html" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#变量和类型" class="sidebar-link">变量和类型</a></li><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#原型和原型链" class="sidebar-link">原型和原型链</a></li><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#作用域和闭包" class="sidebar-link">作用域和闭包</a></li><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#执行机制" class="sidebar-link">执行机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#语法和-api" class="sidebar-link">语法和 API</a></li><li class="sidebar-sub-header"><a href="/knowledge/javascript.html#参考链接" class="sidebar-link">参考链接：</a></li></ul></li></ul></li><li><a href="/knowledge/css.html" class="sidebar-link">HTML和CSS</a></li><li><a href="/knowledge/computer.html" class="sidebar-link">计算机基础</a></li><li><a href="/knowledge/algorithms.html" class="sidebar-link">算法</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript-基础"><a href="#javascript-基础" class="header-anchor">#</a> JavaScript 基础</h1> <h2 id="变量和类型"><a href="#变量和类型" class="header-anchor">#</a> 变量和类型</h2> <h4 id="_1-javascript-规定了几种语言类型"><a href="#_1-javascript-规定了几种语言类型" class="header-anchor">#</a> 1.JavaScript 规定了几种语言类型</h4> <p>七种数据类型：Undefined, Null, Boolean, String, Number, Symbol, Object</p> <h4 id="_2-javascript-对象的底层数据结构是什么"><a href="#_2-javascript-对象的底层数据结构是什么" class="header-anchor">#</a> 2.JavaScript 对象的底层数据结构是什么</h4> <p>对象数据被存储在堆中（如数组，对象，函数等）</p> <p>引用类型的数据的地址指针是存储于栈中的，当我们想要访问引用类型的值的时候，需要先从栈中获得对象的地址指针，然后，在通过地址指针找到堆中的所需要的数据。</p> <h4 id="_3-symbol-类型在实际开发中的应用、可手动实现一个简单的-symbol"><a href="#_3-symbol-类型在实际开发中的应用、可手动实现一个简单的-symbol" class="header-anchor">#</a> 3.Symbol 类型在实际开发中的应用、可手动实现一个简单的 Symbol</h4> <p>Symbol 是 ES6 新引入的一种数据类型，表示独一无二的值。</p> <p>特点：Symbol 类型的 key 不能被<code>Object.keys</code>和<code>for..of</code>枚举，可以当做私有变量使用。</p> <p>应用：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> mySymbol <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 第一种写法</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 第二种写法</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>mySymbol<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_4-javascript-中的变量在内存中的具体存储形式-堆和栈"><a href="#_4-javascript-中的变量在内存中的具体存储形式-堆和栈" class="header-anchor">#</a> 4.JavaScript 中的变量在内存中的具体存储形式 (堆和栈)</h4> <p><code>JavaScript</code> 中的变量分为基本类型和引用类型.</p> <p>基本类型: 保存在栈内存中的简单数据段，它们的值都有固定的大小，保存在栈空间，通过按值访问</p> <p>引用类型: 保存在堆内存中的对象，值大小不固定，栈内存中存放的该对象的访问地址指向堆内存中的对象，<code>JavaScript</code> 不允许直接访问堆内存中的位置，因此操作对象时，实际操作对象的引用</p> <h4 id="_5-基本类型对应的内置对象-以及他们之间的装箱拆箱操作"><a href="#_5-基本类型对应的内置对象-以及他们之间的装箱拆箱操作" class="header-anchor">#</a> 5.基本类型对应的内置对象，以及他们之间的装箱拆箱操作</h4> <div class="language- extra-class"><pre class="language-text"><code>String(), Number(), Boolean()
</code></pre></div><p>装箱：就是把基本类型转变为对应的对象。装箱分为隐式和显示</p> <div class="language- extra-class"><pre class="language-text"><code>  // 隐式装箱： 每当读取一个基本类型的值时，后台会创建一个该基本类型所对应的对象。
  // 在这个基本类型上调用方法，其实是在这个基本类型对象上调用方法。
  // 这个基本类型的对象是临时的，它只存在于方法调用那一行代码执行的瞬间，执行方法后立刻被销毁。
  let num=123;
  num.toFixed(2); // '123.00'//上方代码在后台的真正步骤为
  var c = new Number(123);
  c.toFixed(2);
  c = null;
  // 显式装箱: 通过内置对象 Boolean、Object、String 等可以对基本类型进行显示装箱。
  var obj = new String('123');
</code></pre></div><p>拆箱: 拆箱与装箱相反，把对象转变为基本类型的值。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">Number</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span>
<span class="token comment">// 转换演变：</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1];</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// '1';Number('1'); //1</span>
</code></pre></div><blockquote><p>《JavaScript 高级程序设计》119 页</p></blockquote> <h4 id="_6-理解值类型和引用类型-栈和堆-连锁店和连锁店钥匙"><a href="#_6-理解值类型和引用类型-栈和堆-连锁店和连锁店钥匙" class="header-anchor">#</a> 6.理解值类型和引用类型 (栈和堆， 连锁店和连锁店钥匙)</h4> <p>JavaScript 中的变量分为基本类型和引用类型:</p> <p>基本类型: 保存在栈内存中的简单数据段，它们的值都有固定的大小，保存在栈空间，通过按值访问</p> <p>引用类型: 保存在堆内存中的对象，值大小不固定，栈内存中存放的该对象的访问地址指向堆内存中的对象，<code>JavaScript</code> 不允许直接访问堆内存中的位置，因此操作对象时，实际操作对象的引用</p> <h4 id="_7-null-和-undefined-的区别"><a href="#_7-null-和-undefined-的区别" class="header-anchor">#</a> 7.null 和 undefined 的区别</h4> <ol><li><code>Number</code> 转换的值不同，<code>Number(null)</code> 输出为 <code>0</code>, <code>Number(undefined)</code> 输出为 <code>NaN</code></li> <li><code>null</code> 表示一个值被定义了，但是这个值是空值</li> <li><code>undefined</code> 表示缺少值，即此处应该有值，但是还没有定义</li></ol> <h4 id="_8-至少可以说出三种判断-javascript-数据类型的方式-以及他们的优缺点-如何准确的判断数组类型"><a href="#_8-至少可以说出三种判断-javascript-数据类型的方式-以及他们的优缺点-如何准确的判断数组类型" class="header-anchor">#</a> 8.至少可以说出三种判断 JavaScript 数据类型的方式，以及他们的优缺点，如何准确的判断数组类型</h4> <ol><li><p><code>typeof</code> —— 返回给定变量的数据类型，只能判断基本类型、Object 和 Function，其他引用类型无法判断</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token string">'undefined'</span>——Undefined
  <span class="token string">'boolean'</span>——Boolean
  <span class="token string">'string'</span>——String
  <span class="token string">'number'</span>——Number
  <span class="token string">'symbol'</span>——Symbol
  <span class="token string">'object'</span>——Object <span class="token operator">/</span> Null （Null 为空对象的引用）
  <span class="token string">'function'</span>——Function
  <span class="token comment">// 对于一些如 error() date() array()无法判断，都是显示object类型</span>
</code></pre></div></li> <li><p><code>instanceof</code> —— 只能判断两个对象是否属于实例关系，而无法判断对象实例具体属于哪种类型</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;22&quot;</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;22&quot;</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">function</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
  <span class="token comment">// instanceof 只能用来判断两个对象是否属于实例关系，而不能判断一个对象实例具体属于哪种类型。</span>
</code></pre></div></li> <li><p><code>constructor</code> —— 返回对象对应的构造函数， null 和 undefined 是无效的对象，没有 constructor</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'abcde'</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> String<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Number<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Boolean<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">s</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Function<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Date<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Error<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>constructor <span class="token operator">===</span> HTMLDocument<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Window<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token operator">=&gt;</span>  <span class="token boolean">true</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">=&gt;</span>    <span class="token keyword">undefined</span>
  <span class="token comment">// null 和 undefined 是无效的对象，没有 constructor，因此无法通过这种方式来判断。</span>
</code></pre></div></li> <li><p><code>Object.prototype.toString()</code>默认返回当前对象的 <code>[[Class]]</code> 。这是一个内部属性，其格式为 <code>[object Xxx]</code> ，是一个字符串，其中 <code>Xxx</code> 就是对象的类型。 (推荐使用)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Date]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object String]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Math]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Undefined]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Null]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object String]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Number]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Boolean]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Symbol]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Function]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object RegExp]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Error]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object HTMLDocument]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object global] window 是全局对象 global 的引用</span>
<span class="token comment">// 比较全面</span>
</code></pre></div></li></ol> <h4 id="_9-可能发生隐式类型转换的场景以及转换原则-应如何避免或巧妙应用"><a href="#_9-可能发生隐式类型转换的场景以及转换原则-应如何避免或巧妙应用" class="header-anchor">#</a> 9.可能发生隐式类型转换的场景以及转换原则，应如何避免或巧妙应用</h4> <p>隐式转换一般说的是<code>Boolean</code>的转换</p> <ul><li>Boolean 场景，变量放在 if 的判断语句时，如果变量不是布尔值，那么就会发生隐式转换
<ul><li>String，非空字符串会转换成<code>true</code>，空字符串会转换成<code>false</code></li> <li>Number, 非 0 会转换成<code>true</code>，0 会转换成<code>false</code></li> <li>Object，任何对象都会转成<code>true</code></li></ul></li></ul> <blockquote><p>《JavaScript 高级程序设计》26 页</p></blockquote> <h4 id="_10-出现小数精度丢失的原因-javascript-可以存储的最大数字、最大安全数字-javascript-处理大数字的方法、避免精度丢失的方法"><a href="#_10-出现小数精度丢失的原因-javascript-可以存储的最大数字、最大安全数字-javascript-处理大数字的方法、避免精度丢失的方法" class="header-anchor">#</a> 10.出现小数精度丢失的原因，JavaScript 可以存储的最大数字、最大安全数字，JavaScript 处理大数字的方法、避免精度丢失的方法</h4> <ul><li>精度丢失原因，说是 <code>JavaScript</code> 使用了 <code>IEEE 754</code> 规范，二进制储存十进制的小数时不能完整的表示小数</li> <li>能够表示的最大数字 <code>Number.MAX_VALUE</code> 等于 <code>1.7976931348623157e+308</code> ,最大安全数字 <code>Number.MAX_SAFE_INTEGER</code> 等于 <code>9007199254740991</code></li> <li>避免精度丢失
<ul><li>计算小数时，先变成整数再运算</li> <li>如果值超出了安全整数，有一个最新提案，<code>BigInt</code> 大整数，它可以表示任意大小的整数，注意只能表示整数，而不受安全整数的限制</li></ul></li></ul> <blockquote><p>《JavaScript 高级程序设计》29 页</p></blockquote> <h2 id="原型和原型链"><a href="#原型和原型链" class="header-anchor">#</a> 原型和原型链</h2> <h4 id="_1-理解原型设计模式以及-javascript-中的原型规则"><a href="#_1-理解原型设计模式以及-javascript-中的原型规则" class="header-anchor">#</a> 1.理解原型设计模式以及 JavaScript 中的原型规则</h4> <p>原型规则：</p> <p>两个概念：隐式原型，显式原型</p> <div class="language- extra-class"><pre class="language-text"><code>A. 所有的引用类型（数组、对象、函数），都具有对象特性，即可自由扩展属性；
B. 所有的引用类型（数组、对象、函数），都有一个`__proto__`属性（隐式原型），属性值是一个普通的对象；
C. 所有的函数，都具有一个 `prototype`（显式原型），属性值也是一个普通对象；
D. 所有的引用类型（数组、对象、函数），其隐式原型指向其构造函数的显式原型；`（obj._proto_ === Object.prototype）`；
E. 当试图得到一个对象的某个属性时，如果这个对象本身没有这个属性，那么会去它的 `__proto__` （即它的构造函数的 `prototype`）中去寻找；
</code></pre></div><h4 id="_2-instanceof-的底层实现原理-手动实现一个-instanceof"><a href="#_2-instanceof-的底层实现原理-手动实现一个-instanceof" class="header-anchor">#</a> 2.instanceof 的底层实现原理，手动实现一个 instanceof</h4> <p>实现原理：判断实例对象的<code>__proto__</code>是不是等于对象的<code>prototype</code>属性，如果不相等，则继续往原型链找，直到<code>__proto__</code>为<code>null</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token keyword">instanceof</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> <span class="token constant">O</span> <span class="token operator">=</span> object<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj <span class="token operator">=</span> obj<span class="token punctuation">.</span>__proto__<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token constant">O</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_3-实现继承的几种方式以及他们的优缺点"><a href="#_3-实现继承的几种方式以及他们的优缺点" class="header-anchor">#</a> 3.实现继承的几种方式以及他们的优缺点</h4> <p>详情请点击：<a href="https://zxpsuper.github.io/Demo/advanced_front_end/js/inherit.html#%E7%B1%BB%E5%BC%8F%E7%BB%A7%E6%89%BF" target="_blank" rel="noopener noreferrer">《继承的几种实现方式》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_4-至少说出一种开源项目-如-node-中应用原型继承的案例"><a href="#_4-至少说出一种开源项目-如-node-中应用原型继承的案例" class="header-anchor">#</a> 4.至少说出一种开源项目(如 Node)中应用原型继承的案例</h4> <h4 id="_5-可以描述-new-一个对象的详细过程-手动实现一个-new-操作符"><a href="#_5-可以描述-new-一个对象的详细过程-手动实现一个-new-操作符" class="header-anchor">#</a> 5.可以描述 new 一个对象的详细过程，手动实现一个 new 操作符</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">Obj<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Obj</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//使用指定的原型对象及其属性去创建一个新的对象</span>
  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">Obj</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定 this 到obj, 设置 obj 的属性</span>
  <span class="token keyword">return</span> <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj<span class="token punctuation">;</span> <span class="token comment">// 返回实例</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_6-理解-es6-class-构造以及继承的底层实现原理"><a href="#_6-理解-es6-class-构造以及继承的底层实现原理" class="header-anchor">#</a> 6.理解 es6 class 构造以及继承的底层实现原理</h4> <p>具体可看文章<a href="https://segmentfault.com/a/1190000014798678" target="_blank" rel="noopener noreferrer">《ES6 类以及继承的实现原理》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="作用域和闭包"><a href="#作用域和闭包" class="header-anchor">#</a> 作用域和闭包</h2> <h4 id="_1-理解词法作用域和动态作用域"><a href="#_1-理解词法作用域和动态作用域" class="header-anchor">#</a> 1.理解词法作用域和动态作用域</h4> <p>词法作用域也称静态作用域，<code>javascript</code> 采用静态作用域</p> <p>静态作用域 —— 函数的作用域基于函数创建的位置。</p> <p>动态作用域 —— 函数的作用域基于函数的使用位置。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 输出 1 。JavaScript 采用的是词法作用域，也称为静态作用域。相同的，动态作用域此代码应该输出 2</span>
</code></pre></div><h4 id="_2-理解-javascript-的作用域和作用域链"><a href="#_2-理解-javascript-的作用域和作用域链" class="header-anchor">#</a> 2.理解 JavaScript 的作用域和作用域链</h4> <p>[<a href="https://segmentfault.com/a/1190000003934412" target="_blank" rel="noopener noreferrer">理解 JavaScript 中的作用域和作用域链<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>]</p> <h4 id="_3-理解-javascript-的执行上下文栈-可以应用堆栈信息快速定位问题"><a href="#_3-理解-javascript-的执行上下文栈-可以应用堆栈信息快速定位问题" class="header-anchor">#</a> 3. 理解 JavaScript 的执行上下文栈，可以应用堆栈信息快速定位问题</h4> <p><strong>执行上下文</strong> 就是当前 <code>JavaScript</code> 代码被解析和执行时所在环境的抽象概念， <code>JavaScript</code> 中运行任何的代码都是在执行上下文中运行。</p> <p>执行上下文总共有三种类型：全局执行上下文, 函数执行上下文, <code>Eval</code> 函数执行上下文</p> <p><strong>执行栈</strong>，在其他编程语言中也被叫做调用栈，具有 LIFO（后进先出）结构，用于存储在代码执行期间创建的所有执行上下文。</p> <h4 id="_4-this-的原理以及几种不同使用场景的取值"><a href="#_4-this-的原理以及几种不同使用场景的取值" class="header-anchor">#</a> 4.this 的原理以及几种不同使用场景的取值</h4> <p><a href="http://www.ruanyifeng.com/blog/2018/06/javascript-this.html" target="_blank" rel="noopener noreferrer">this 的原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_5-闭包的实现原理和作用-可以列举几个开发中闭包的实际应用"><a href="#_5-闭包的实现原理和作用-可以列举几个开发中闭包的实际应用" class="header-anchor">#</a> 5.闭包的实现原理和作用，可以列举几个开发中闭包的实际应用</h4> <p><strong>原理</strong>：闭包就是能够读取其他函数内部变量的函数。由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成&quot;定义在一个函数内部的函数&quot;。</p> <p>所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p> <p><strong>作用</strong>：闭包可以用在许多地方。它的最大用处有两个，一个是前面提到的可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。</p> <p><strong>应用</strong>：1. 匿名自执行函数 2. 结果缓存 3. 封装局部变量</p> <h4 id="_6-理解堆栈溢出和内存泄漏的原理-如何防止"><a href="#_6-理解堆栈溢出和内存泄漏的原理-如何防止" class="header-anchor">#</a> 6.理解堆栈溢出和内存泄漏的原理，如何防止</h4> <p><strong>堆栈溢出</strong> 的产生是由于过多的函数调用，导致调用堆栈无法容纳这些调用的返回地址，一般在递归中产生。堆栈溢出很可能由无限递归（Infinite recursion）产生，但也可能仅仅是过多的堆栈层级.</p> <p>参考链接：<a href="https://zxpsuper.github.io/Demo/advanced_front_end/browser/garbagerefuse.html#%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E4%B8%8E%E9%81%BF%E5%85%8D" target="_blank" rel="noopener noreferrer">《内存泄漏与避免》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_7-如何处理循环的异步操作"><a href="#_7-如何处理循环的异步操作" class="header-anchor">#</a> 7.如何处理循环的异步操作</h4> <ol><li>将异步操作变同步，使用 async/await.</li> <li>去掉循环，将循环变成递归</li> <li>如果是为了解决变量 i 的问题，可以用 let</li></ol> <h4 id="_8-理解模块化解决的实际问题-可列举几个模块化方案并理解其中原理"><a href="#_8-理解模块化解决的实际问题-可列举几个模块化方案并理解其中原理" class="header-anchor">#</a> 8.理解模块化解决的实际问题，可列举几个模块化方案并理解其中原理</h4> <h2 id="执行机制"><a href="#执行机制" class="header-anchor">#</a> 执行机制</h2> <h4 id="_1-为何-try-里面放-return-finally-还会执行-理解其内部机制"><a href="#_1-为何-try-里面放-return-finally-还会执行-理解其内部机制" class="header-anchor">#</a> 1.为何 try 里面放 return，finally 还会执行，理解其内部机制</h4> <p>return 执行了会先把结果保存下来，然后执行 finally。</p> <p>finally 如果有 return，会覆盖 try 里面的 return。</p> <p>finally 如果没有 return，但是更改了 try 返回的结果，如果 try 返回的是一个对象，则会受到影响，如果是基本类型，则不受影响。（应该是浅拷贝）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// return 执行了但是没有立即返回，而是先执行了finally</span>
<span class="token keyword">function</span> <span class="token function">kaimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">kaimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a 0</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// finally 中的 return 覆盖了 try 中的 return。</span>
<span class="token keyword">function</span> <span class="token function">kaimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">kaimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><h4 id="_2-javascript-如何实现异步编程-可以详细描述-eventloop-机制"><a href="#_2-javascript-如何实现异步编程-可以详细描述-eventloop-机制" class="header-anchor">#</a> 2.JavaScript 如何实现异步编程，可以详细描述 EventLoop 机制</h4> <p><code>JavaScript</code> 如何实现异步编程:</p> <ul><li><p>回调函数</p></li> <li><p>Promise</p></li> <li><p>Generator</p> <p><code>Generator</code> 函数是 <code>ES6</code> 提供的一种异步编程解决方案，其行为类似于状态机。</p></li> <li><p>async/await</p> <p><code>async/await</code> 本质上还是基于 <code>Generator</code> 函数，可以说是 <code>Generator</code> 函数的语法糖，<code>async</code> 就相当于之前写的 run 函数(执行<code>Generator</code>函数的函数),而 <code>await</code> 就相当于 <code>yield</code> ，只不过 <code>await</code> 表达式后面只能跟着 <code>Promise</code> 对象，如果不是 <code>Promise</code> 对象的话，会通过 <code>Promise.resolve</code> 方法使之变成 <code>Promise</code> 对象。<code>async</code> 修饰 <code>function</code>,其返回一个 <code>Promise</code> 对象。</p></li></ul> <p><a href="https://zxpsuper.github.io/Demo/advanced_front_end/browser/eventloop.html#_1-event-loop%E6%98%AF%E4%BB%80%E4%B9%88" target="_blank" rel="noopener noreferrer">《浏览器 Event Loop 机制》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_3-宏任务和微任务分别有哪些"><a href="#_3-宏任务和微任务分别有哪些" class="header-anchor">#</a> 3.宏任务和微任务分别有哪些</h4> <p><strong>宏任务</strong>：<code>setTimeout, setInterval,setImmediate (Node独有)，requestAnimationFrame (浏览器独有)，I/O，UI rendering (浏览器独有)</code></p> <p><strong>微任务</strong>： <code>process.nextTick (Node独有)，Promise，Object.observe，MutationObserver</code></p> <h4 id="_4-可以快速分析一个复杂的异步嵌套逻辑-并掌握分析方法"><a href="#_4-可以快速分析一个复杂的异步嵌套逻辑-并掌握分析方法" class="header-anchor">#</a> 4.可以快速分析一个复杂的异步嵌套逻辑，并掌握分析方法</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 执行顺序，先微队列，后宏队列。</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>从头至尾执行一次代码,根据上面分类规则分至不同队列, <code>new promise( function )</code> 也是立即执行。<code>setTimeout</code> 的回调函数属于宏队列<code>（macrotask）</code>，<code>resolve</code> 的回调函数属于微队列.</p> <p>优先执行微队列，微队列执行过程中产生的微队列和宏队列置于队列末尾排序执行，而宏队列产生的微队列和宏队列于新的队列中等待。。</p> <p>执行完微队列后执行宏队列</p> <h4 id="_5-使用-promise-实现串行"><a href="#_5-使用-promise-实现串行" class="header-anchor">#</a> 5.使用 Promise 实现串行</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 一个 promise 的 function</span>
<span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">wait </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">s</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;execute&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> time <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ol><li><p>普通循环</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  p <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">delay</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>reduce</p> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">s<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> s<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">delay</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>async/await</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">await</span> <span class="token function">delay</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>递归</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">delay</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <h4 id="_6-node-与浏览器-eventloop-的差异"><a href="#_6-node-与浏览器-eventloop-的差异" class="header-anchor">#</a> 6.Node 与浏览器 EventLoop 的差异</h4> <p><a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener noreferrer">《JavaScript 运行机制详解：再谈 Event Loop》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://segmentfault.com/a/1190000016278115" target="_blank" rel="noopener noreferrer">《带你彻底弄懂 Event Loop》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_7-如何在保证页面运行流畅的情况下处理海量数据"><a href="#_7-如何在保证页面运行流畅的情况下处理海量数据" class="header-anchor">#</a> 7.如何在保证页面运行流畅的情况下处理海量数据</h4> <ol><li>分治思想，在一定的时间内多次加载数据，直至渲染完成，使用 <code>window.requestAnimationFrame</code> 和 <code>document.createDocumentFragment()</code> 实现, 可参考文章<a href="https://www.askhtml5.com/question/3" target="_blank" rel="noopener noreferrer">【如何解决页面加载海量数据而不冻结前端 UI】<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>局部显示，毕竟用户能看到的就一屏内容，监听用户的滚动行为，改变显示元素，可使 <code>DOM</code> 结构最简单化。可参考文章<a href="https://blog.csdn.net/ken_ding/article/details/86601844" target="_blank" rel="noopener noreferrer">【大数据如何在前端流畅展示】<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,不过他的 <code>Demo</code>有点问题.</li></ol> <h3 id="语法和-api"><a href="#语法和-api" class="header-anchor">#</a> 语法和 API</h3> <h4 id="_1-理解-ecmascript-和-javascript-的关系"><a href="#_1-理解-ecmascript-和-javascript-的关系" class="header-anchor">#</a> 1.理解 ECMAScript 和 JavaScript 的关系</h4> <p><code>ECMAScript</code> 是 <code>JavaScript</code> 的规范，<code>JavaScript</code> 是 <code>ECMAScript</code> 的实现。</p> <h4 id="_2-熟练运用-es5、es6-提供的语法规范"><a href="#_2-熟练运用-es5、es6-提供的语法规范" class="header-anchor">#</a> 2.熟练运用 es5、es6 提供的语法规范</h4> <p><a href="http://javascript.ruanyifeng.com/" target="_blank" rel="noopener noreferrer">【JavaScript 标准参考教程（alpha）】<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="http://es6.ruanyifeng.com/#docs/function" target="_blank" rel="noopener noreferrer">【ECMAScript 6 入门】<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_3-熟练掌握-javascript-提供的全局对象-例如-date、math-、全局函数-例如-decodeuri、isnan-、全局属性-例如-infinity、undefined"><a href="#_3-熟练掌握-javascript-提供的全局对象-例如-date、math-、全局函数-例如-decodeuri、isnan-、全局属性-例如-infinity、undefined" class="header-anchor">#</a> 3.熟练掌握 JavaScript 提供的全局对象（例如 Date、Math）、全局函数（例如 decodeURI、isNaN）、全局属性（例如 Infinity、undefined）</h4> <h4 id="_4-熟练应用-map、reduce、filter-等高阶函数解决问题"><a href="#_4-熟练应用-map、reduce、filter-等高阶函数解决问题" class="header-anchor">#</a> 4.熟练应用 map、reduce、filter 等高阶函数解决问题</h4> <h4 id="_5-setinterval-需要注意的点-使用-settimeout-实现-setinterval"><a href="#_5-setinterval-需要注意的点-使用-settimeout-实现-setinterval" class="header-anchor">#</a> 5.setInterval 需要注意的点，使用 settimeout 实现 setInterval</h4> <p>setInterval 需要注意的点:</p> <p>在使用 <code>setInterval</code> 方法时，每一次启动都需要对 <code>setInterval</code> 方法返回的值做一个判断，判断是否是空值，若不是空值，则要停止定时器并将值设为空，再重新启动，如果不进行判断并赋值，有可能会造成计时器循环调用，在同等的时间内同时执行调用的代码，并会随着代码的运行时间增加而增加，导致功能无法实现，甚至占用过多资源而卡死奔溃。因此在每一次使用 setInterval 方法时，都需要进行一次判断。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 在其他地方再次用到setInterval(func, 1000)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>timer <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>使用 settimeout 实现 setInterval</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function-variable function">setIntervalFunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//使用递归</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span>setIntervalFunc<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_6-javascript-提供的正则表达式-api、可以使用正则表达式-邮箱校验、url-解析、去重等-解决常见问题"><a href="#_6-javascript-提供的正则表达式-api、可以使用正则表达式-邮箱校验、url-解析、去重等-解决常见问题" class="header-anchor">#</a> 6.JavaScript 提供的正则表达式 API、可以使用正则表达式（邮箱校验、URL 解析、去重等）解决常见问题</h4> <p>邮箱校验：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isEmail</span><span class="token punctuation">(</span><span class="token parameter">emailStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z0-9]+([._-]*[a-zA-Z0-9]*)*@[a-zA-Z0-9]+.[a-zA-Z0-9{2,5}$]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
    emailStr
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>URL 解析:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isUrl</span><span class="token punctuation">(</span><span class="token parameter">urlStr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;'\*\+,;=.%]+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
    value
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>数组去重：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// set结构</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3]</span>

<span class="token comment">// Object.keys(), 利用属性 key 的唯一性</span>
<span class="token keyword">let</span> arrObj <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arrObj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> arrObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arrObj2<span class="token punctuation">[</span>arrObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> arrObj3 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>arrObj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrObj3<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 利用 indexOf() 查询数组内是否已经包含该元素</span>
<span class="token keyword">var</span> arrIndexOf <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> arrIndexOf2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrIndexOf<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>arrIndexOf2<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arrIndexOf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arrIndexOf2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arrIndexOf<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arrIndexOf2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a', 'c', 'b', 'd']</span>
</code></pre></div><h4 id="_7-javascript-异常处理的方式-统一的异常处理方案"><a href="#_7-javascript-异常处理的方式-统一的异常处理方案" class="header-anchor">#</a> 7.JavaScript 异常处理的方式，统一的异常处理方案</h4> <h3 id="参考链接"><a href="#参考链接" class="header-anchor">#</a> 参考链接：</h3> <p>[<a href="https://segmentfault.com/a/1190000020262348" target="_blank" rel="noopener noreferrer">前端工程师自检清单 73 答<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>](https://segmentfault.com/a/1190000020262348?utm_source=tag-newest)</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/knowledge/css.html">
        HTML和CSS
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9dcc8cee.js" defer></script><script src="/assets/js/2.b5a88b1a.js" defer></script><script src="/assets/js/12.64368439.js" defer></script>
  </body>
</html>
